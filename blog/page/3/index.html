
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>首页 - The Hard Way Is Easier</title>
    <meta name="author" content="linuxfish">
    
	<meta name="description" content="Published on: Jul 12th, 2015 Tags: mac, octopress 换了Mac，终于可以继续用Octopress写blog了，但首先得把原来的blog从git上同步过来，纪录下在此过程中遇到的坑。 clone source分支。 git clone -b &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="The Hard Way Is Easier" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.ico" rel="shortcut icon">
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">

    <link href='http://fonts.googleapis.com/css?family=Slackey' rel='stylesheet' type='text/css'>
    <!--<link href='http://fonts.useso.com/css?family=Slackey' rel='stylesheet' type='text/css'> -->
    <link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
    <!--<link href='http://fonts.useso.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'> -->
    <link href='http://fonts.googleapis.com/css?family=Amethysta' rel='stylesheet' type='text/css'>
    <!--<link href='http://fonts.useso.com/css?family=Amethysta' rel='stylesheet' type='text/css'> -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <!--<script src="http://ajax.useso.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script> -->
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

    <script type="text/javascript" src="/javascripts/jquery-tapir.js"></script>

    <!-- remove or comment it to disable ajaxification -->   
    <script src="/javascripts/ajaxify.js"></script>
   
    
    

</head>


<body>
    <div id="wrapper">
    <header id="header" class="inner"><!-- for more effects see _animate.scss -->
<h1 class="animated bounceInDown">
    <div id="headerbg">
        linuxfish
    </div>
</h1>
<br>

<ul id="social-links" style="text-align:center">
  
  <!-- GitHub -->
  <li>
  <a href="https://github.com/cs50mu" class="github" title="Github"></a>
  </li>
  
  
  <!-- Google Plus -->
  <li>
  <a href="http://plus.google.com/linuxfish.exe@gmail.com?rel=author" class="google" title="Google+"></a>
  </li>
  
  
  
  <!-- Twitter -->
  <li>
  <a href="http://www.twitter.com/linuxfish" class="twitter" title="Twitter"></a>
  </li>
  
  
  
  
  
</ul>


<!-- use full url including 'index.html' for navigation bar if you are using ajax -->
<ul id="nav">
	<li id="ajax"><a href="/index.html">Home</a></li>
	<li id="ajax"><a href="/blog/archives/index.html">Archives</a></li>
    <li><a href="/atom.xml">RSS</a></li>
    
    <li>
    <div id="dark">
        <form method="get" action="/search.html" id="search">
            <input name="query" type="text" placeholder="Search..." x-webkit-speech />
        </form>
    </div>
    </li>
        
</ul>




</header>

<div id="toload">
<!-- begin toload --> 
    <div id="content" class="inner">
        


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/07/12/continue-blogging-on-macosx-using-octoress/">
		
			Continue Blogging on Mac OSX Using Octoress</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2015-07-12T16:31:00+08:00" pubdate data-updated="true">Jul 12<span>th</span>, 2015</time></div>
      <div class="tags">Tags: 


	<a class='category' href='/blog/categories/mac/'>mac</a>, <a class='category' href='/blog/categories/octopress/'>octopress</a>


</div>
    </div>
		<p>换了Mac，终于可以继续用Octopress写blog了，但首先得把原来的blog从git上同步过来，纪录下在此过程中遇到的坑。</p>

<ol>
<li><p>clone source分支。</p>

<pre><code> git clone -b source git@github.com:cs50Mu/cs50mu.github.com.git octopress
</code></pre></li>
<li><p>clone master分支到<code>octopress/_deploy</code>文件夹中</p>

<pre><code> git clone git@github.com:cs50Mu/cs50mu.github.com.git _deploy 
</code></pre></li>
<li>重新安装Octopress环境，这里出现了一堆坑。。。

<ul>
<li>ruby gems官方源被墙，这个当时在Archlinux上安装时已经遇到，解决办法不再重复</li>
<li><p>当执行<code>brew install ruby-build</code>提示找不到GCC。这个是因为mac上的gcc用的是苹果自己的编译器llvm，不是GNU版本的gcc，而octopress使用的特定版本的ruby（1.9.3）需要用GNU版的编译器来编译，按照homebrew的提示安装GCC即可</p>

<pre><code>  $ brew update
  $ brew tap homebrew/dupes
  $ brew install autoconf automake apple-gcc42
</code></pre></li>
<li><p>使用rbenv安装<code>Ruby 1.9.3</code>时，安装的ruby版本不能生效。表现的现象是：当执行<code>ruby --version</code>时仍然给出的时mac系统自带的ruby版本。解决办法就是在<code>.bash_profile</code>中添加</p>

<pre><code>  # Initialize rbenv
  if which rbenv &gt; /dev/null; then eval "$(rbenv init -)"; fi
</code></pre>

<p>然后<strong>注意</strong>在zsh shell中需要在<code>.zshrc</code>中添加<code>source ~/.bash_profile</code>，因为zsh shell是不读<code>.bash_profile</code>文件的（或者是因为我安装了oh-my-zsh），还有要记住添加的这一行一定要在<code>.zshrc</code>文件中路径声明的后边！！否则，加这一句也不会起作用。切记，一开始在这个上面被坑了很久。</p></li>
<li>执行<code>$ rake new_post["something to say"]</code>，zsh会报错：<code>zsh: no matches found: new_post[something to say]</code>，原因是<code>[ ]</code>在zsh中是文件名通配符，解决办法：
在<code>.zshrc</code>中加入<code>alias rake="noglob rake"</code></li>
</ul>
</li>
</ol>


<h3>参考</h3>

<ul>
<li><a href="http://blog.zerosharp.com/installing-ruby-with-homebrew-and-rbenv-on-mac-os-x-mountain-lion/">Installing Ruby With Homebrew and Rbenv on Mac OS X Mountain Lion</a></li>
<li><a href="https://ruby-china.org/wiki/rbenv-guide">rbenv-guide</a></li>
<li><a href="http://octopress.org/docs/setup/">Octopress Setup</a></li>
<li><a href="https://github.com/imathis/octopress/issues/117">not compatible with zsh</a></li>
<li><a href="http://liuyix.org/blog/2013/mac-install-octopress/">Mac上安装octopress</a></li>
<li><a href="http://boboshone.com/blog/2013/06/05/write-octopress-blog-on-multiple-machines/">在多台电脑上写Octopress博客</a></li>
</ul>


		
		
	</div>

<div class="meta">
	
		<span class="comments"><a href="/blog/2015/07/12/continue-blogging-on-macosx-using-octoress//blog/page/3/index.html#disqus_thread">Comments</a></span>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/07/12/test-from-new-mac/">
		
			Test From New Mac</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2015-07-12T13:04:00+08:00" pubdate data-updated="true">Jul 12<span>th</span>, 2015</time></div>
      <div class="tags">Tags: 

</div>
    </div>
		<p><strong>if you see this page, then the migration is ok!</strong></p>

		
		
	</div>

<div class="meta">
	
		<span class="comments"><a href="/blog/2015/07/12/test-from-new-mac//blog/page/3/index.html#disqus_thread">Comments</a></span>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/02/02/logging-module-of-python/">
		
			Python的logging模块总结</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2015-02-02T10:58:00+08:00" pubdate data-updated="true">Feb 2<span>nd</span>, 2015</time></div>
      <div class="tags">Tags: 


	<a class='category' href='/blog/categories/python/'>Python</a>


</div>
    </div>
		<p>里面主要有这么几个类：logger handler formatter，其中logger类用于实例化logger对象，handler类负责指定log信息的发送目的地，比如你可能希望log信息发送到终端、文件甚至远程主机上，还支持日志轮转，比如<code>RotatingFileHandler</code>支持按文件轮转，<code>TimedRotatingFileHandler</code>支持按时间轮转，formatter类，顾名思义，负责log信息的格式的设定。</p>

<p>使用logging模块的基本流程为：先通过<code>logging.getlogger('loggername')</code>获取一个logger对象，然后根据需求为这个logger对象添加相应的handler和formatter，这样就算基本配置完了，这样就可以在你的程序里使用<code>logging.debug('debug info')</code>等类似语句来输出log信息了。</p>

<p>在实际开发中一般是通过文件来进行配置的，配置信息全写在一个配置文件中，然后在脚本里读取配置信息，一个简单的示例：</p>

<pre><code>import logging
import logging.config

logging.config.fileConfig('logging.conf')

# create logger
logger = logging.getLogger('simpleLogger')

# use it
logger.debug('debug info')
logger.info('info message')
logger.warn('warning info')
logger.critical(''critical info')
</code></pre>

<p>配置文件如下，需要遵守一定的格式，具体要求见参考链接</p>

<pre><code>[loggers]
keys=root, simpleLogger

[handlers]
keys=consoleHandler

[formatters]
keys=simpleFormatter

[logger_root]
level=DEBUG
handlers=consoleHandler
...
...
[formatter_simpleFormatter]
format=%(asctime)s - %(name)s - %(levelname)s - %(message)s
datefmt=
</code></pre>

<h2>参考</h2>

<ul>
<li><a href="https://docs.python.org/2/howto/logging.html">Logging HOWTO</a></li>
<li><a href="https://docs.python.org/2/library/logging.config.html#logging-config-api">Logging configuration</a>  这里详细讲了配置文件到底该怎么写</li>
<li><a href="http://kenby.iteye.com/blog/1162698">使用python的logging模块</a></li>
<li><a href="http://www.cnblogs.com/captain_jack/archive/2011/01/21/1941453.html">Python模块学习——logging</a></li>
<li><a href="http://blog.csdn.net/ithomer/article/details/16985379">Python 学习入门（14）—— logging</a></li>
</ul>


		
		
	</div>

<div class="meta">
	
		<span class="comments"><a href="/blog/2015/02/02/logging-module-of-python//blog/page/3/index.html#disqus_thread">Comments</a></span>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/01/20/trivial-problems/">
		
			Trivial Problems</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2015-01-20T18:40:00+08:00" pubdate data-updated="true">Jan 20<span>th</span>, 2015</time></div>
      <div class="tags">Tags: 

</div>
    </div>
		<p>今天很高兴，因为解决了几个困扰很久的问题。</p>

<h2>OpenVPN</h2>

<p>为便于办公，公司提供了VPN，不过只提供了OpenVPN的连接方案，之前在arch上一直是用pptp连接的，大概看了看wiki上OpenVPN的文档，一大堆。。。头大。</p>

<p>不过，今天仔细一看，原来并不麻烦，只要把管理员提供的证书文件等放到相应文件夹上就搞定了！</p>

<blockquote><p>将这几个文件放到/etc/openvpn目录下   xxx.ovpn ca.crt  xxx.crt  xxx.key  其中xxx.pvpn是配置文件
然后就可以启动了！ sudo openvpn /etc/openvpn/xxx.ovpn   会提示输入密码，输入管理员提供的密码即可</p></blockquote>

<h2>urxvt SSH远程登陆的问题</h2>

<p>之前在Arch上用urxvt一直比较happy，不过公司里开发都是SSH远程登陆到linux主机上进行的，那么问题来了，明明在本地显示很正常的vim，SSH到了公司上的Linux主机上，显示就成了一堆渣。。明明vim的配置文件都是一样的啊。。  后来慢慢发现不是vim的问题，是终端的问题！！因为我换用lilyterm后就显示正常了！！然后，终于在今天让我google到解决方案了～</p>

<blockquote><ol>
<li><p>Run the following command on the external host to make a terminfo directory
under the logged in user&rsquo;s home folder.</p>

<pre><code>mkdir -p ~/.terminfo/r/
</code></pre></li>
<li><p>Copy the appropriate terminal profile from your local machine to the newly
created folder on the remote host.</p>

<pre><code>scp /usr/share/terminfo/r/rxvt-unicode-256color user@helloworld.com:.terminfo/r/
</code></pre></li>
<li><p>Restart the SSH connection. It should work now.</p></li>
</ol>
</blockquote>

<h2>vim中使用tab自动补全</h2>

<p>对于程序员来说，这世界上如果没有自动补全的话，简直不能想象。。之前习惯了使用TAB自动补全，现在在公司的远程Linux上却怎么也搞不出TAB自动补全的效果。。配置文件和插件都装一样的也不行。。。真是见鬼了。。 今天发现应该是之前装了supertab，然后不知道怎么又自己给删了，但是效果还在。。在远程Linux上装了supertab后，嗯，就是这个感觉～～</p>

<p>本事件的教训就是，无论做什么一定要做好记录。。</p>

<h2>参考</h2>

<ul>
<li><a href="http://www.cs.helsinki.fi/u/andrews/misc/full_urxvt_support_on_ssh_terminals.txt" title="">FULL URXVT TERMINAL SUPPORT FOR REMOTE (SSH) CONNECTIONS</a></li>
<li><a href="" title="https://stavrovski.net/blog/installing-and-setting-up-openvpn-in-archlinux">Installing and setting up OpenVPN in ArchLinux</a></li>
<li><a href="" title="https://wiki.archlinux.org/index.php/Airvpn">Configuring OpenVPN to connect as a client to an AirVPN server</a></li>
</ul>


		
		
	</div>

<div class="meta">
	
		<span class="comments"><a href="/blog/2015/01/20/trivial-problems//blog/page/3/index.html#disqus_thread">Comments</a></span>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/01/19/problems-about-python-and-mysql/">
		
			Problems About Python and Mysql</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2015-01-19T15:47:00+08:00" pubdate data-updated="true">Jan 19<span>th</span>, 2015</time></div>
      <div class="tags">Tags: 

</div>
    </div>
		<p>记录一下这几天项目上遇到的问题</p>

<h2>Python 2.7的编码问题</h2>

<p>Python 2.x内部处理编码默认还是ascii，在处理utf8编码的数据时会报UnicodeEncodeError: ‘ascii’ codec can’t encode异常错误。这个问题之前就遇到过。</p>

<pre><code>import sys
print sys.getdefaultencoding()  # 获取系统默认编码
reload(sys)
sys.setdefaultencoding('utf-8')  # 重新设置为utf-8
</code></pre>

<h2>MySQL 乱码解决</h2>

<p>创建数据库  <code>CREATE DATABASE test CHARACTER SET utf8 COLLATE utf8_general_ci;</code>   <br/>
创建表    <code>CREATE TABLE test_table (........) ENGINE=InnoDB DEFAULT CHARSET=utf8;</code></p>

<p>Python连接数据库时 <code>conn = MySQLdb.connect(host="localhost", user="root", passwd="root", db="db",  charset="utf8")</code></p>

<h2>git</h2>

<ul>
<li>基于某个分支新建分支
  git branch muchunyu origin/dev  # 假设dev分支不在本地，存在于远程服务器
  git checkout muchunyu  # 切换到这个分支
或者可以直接：   <br/>
  git checkout -b muchunyu origin/dev</li>
<li>只clone某个分支到本地
  git clone -b <branch> &lt;remote_repo></li>
</ul>


<h2>常用数据库操作</h2>

<pre><code>create database xxx; #创建数据库
use xxx;   # 转到某个数据库
create table xxx (....); # 创建表
show tables;  # 显示数据库中的表
describe xxxx; # 显示表结构
drop xxx  # 可以是表名或者数据库名 表的结构 属性 索引都会被删掉
truncate xxx  # 只用于表且只会清空表中数据，不会删除表结构等
</code></pre>

<h2>参考</h2>

<p><a href="http://www.cnblogs.com/mengdd/p/3447464.html">在GitHub上管理项目</a>
<a href="http://www.cnblogs.com/fantiantian/p/3468454.html">Mysql乱码问题解决历程</a>
<a href="http://www.2cto.com/database/201108/101151.html">Mysql中文乱码问题完美解决方案</a></p>

		
		
	</div>

<div class="meta">
	
		<span class="comments"><a href="/blog/2015/01/19/problems-about-python-and-mysql//blog/page/3/index.html#disqus_thread">Comments</a></span>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/01/12/note-from-practical-vim/">
		
			Practical Vim 读书笔记</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2015-01-12T11:31:00+08:00" pubdate data-updated="true">Jan 12<span>th</span>, 2015</time></div>
      <div class="tags">Tags: 

</div>
    </div>
		<ul>
<li>The Vim Way

<ol>
<li> <code>.</code>命令可以重复做上一次的改变(repeat last change)。这里关键是要理解这个改变的意思，就我现在的理解，这个改变是不包括光标位置的移动的，只是指对文本内容的改变，比如删除 增加等等。理解这一点很重要。</li>
<li> <code>;</code> 分号，配合f使用，移动到下一个匹配的地方，反方向移动为<code>,</code></li>
<li> <code>*</code> 移动到下一个与当前光标处文本匹配的地方，并高亮显示所有匹配文本</li>
</ol>
</li>
<li>Normal Mode

<ol>
<li> <code>aw</code>  &ldquo;a word&rdquo; <code>daw</code>可删除整个单词，不管光标在哪里</li>
<li> <code>&lt;C - a&gt;</code>和<code>&lt;C - x&gt;</code> commands perform addition and subtraction on numbers.</li>
<li> <code>g~</code> swap case 改变大小写  <br/>
<code>gu</code> make lowercase  <br/>
<code>gU</code> make uppercase</li>
<li> <code>=</code> autoindent  自动缩进</li>
</ol>
</li>
<li>Insert Mode.   Most of Vim&rsquo;s commands are triggered from other modes, but some functionality is within easy reach from Insert mode.

<ol>
<li> <code>&lt;C - h&gt;</code> Delete back one character</li>
<li> <code>&lt;C - w&gt;</code> Delete back one word</li>
<li> <code>&lt;C - u&gt;</code> Delete back to start of line</li>
<li> <code>&lt;C - O&gt;</code>  execute one command, return to Insert mode. 所谓的Insert Normal Mode，在insert模式下进入此模式后可以执行一次normal模式下才能执行的命令后立即返回insert模式，可以配合zz（使光标处在屏幕中间）使用。如在编辑过程中光标处在最上端或者最下端了，此时想要看一看上下文，可以使用<code>&lt;C - O&gt;zz</code>，然后又立即可以继续编辑。</li>
<li> <code>&lt;C - r&gt;{register}</code> Paste from a Register Without Leaving Insert Mode. For example, <code>&lt;C - r&gt;0</code>  不适合大段文本，因为这种情况下文本是一个字符一个字符粘贴过来的。</li>
<li> <code>&lt;C - r&gt;=</code>  expression register. 可以用于在寄存器中evaluate表达式，然后把结果返回到当前光标处。</li>
<li> <code>&lt;C - v&gt;{code}</code> Insert unusual characters by character code. For example, <code>&lt;C -v&gt;065</code>   <br/>
<code>&lt;C - v&gt;{123}</code> Insert character by decimal code  <br/>
<code>&lt;C - v&gt;u{1234}</code> Insert character by hexadecimal code</li>
</ol>
</li>
<li>Visual Mode

<ol>
<li> <code>v</code> &ndash;  character-wise Visual mode  <br/>
<code>V</code> &ndash; line-wise Visual mode  <br/>
<code>&lt;C - v&gt;</code> &ndash; block-wise Visual mode  <br/>
<code>gv</code> &ndash; reselect the last visual selection  <br/>
<code>o</code> &ndash; go to the other end of highlighted text</li>
</ol>
</li>
<li>Command-Line Mode

<ol>
<li> <code>.</code> 代表当前行 <code>%</code> 代表所有行</li>
<li> <code>:/&lt;html&gt;/,/&lt;\/html&gt;/p</code>  Specify a range of lines by patterns</li>
<li> <code>:/&lt;html&gt;/+1,/&lt;\/html&gt;/-1p</code>Modify an Address using an offset</li>
<li> <code>[range]copy {address}</code>  Duplicate lines  也可以用<code>:t</code>  移动行用<code>:m</code></li>
<li> <code>@:</code>  Repeating the last Ex command</li>
<li> <code>:%normal A;</code>  Run Normal Mode Commands across a range  在命令行模式下运行normal模式下的命令</li>
<li> <code>&lt;C - d&gt;</code>  ask Vim to reveal a list of possible completions  自动补全</li>
<li> <code>&lt;C -r&gt;&lt;C - w&gt;</code>  Insert the current word at the command prompt</li>
<li> <code>:%s//&lt;C-r&gt;&lt;C-w&gt;/g</code>  Leaving the search field of the substitute command blank instructs Vim to reuse the most recent search pattern  重用上次的search pattern</li>
<li> words与WORDS的区别:As users, we can think of them in simpler terms: WORDS are bigger than words.  WORDS用W B E gE来操作，且移动的跨度比words大</li>
<li> <code>q:</code> 进入Command-Line Window</li>
<li> <code>:shell</code>   The <code>:!{cmd}</code> syntax is great for firing one-off commands, but what if we want to run several commands in the shell? In that case, we can use this command to start an interactive shell session.  可以用exit退出，回到vim</li>
<li> <code>&lt;C - z&gt;</code>  Putting Vim in the background  用<code>fg</code>返回</li>
<li> <code>:read !{cmd}</code> 把cmd运行结果读入当前buffer     <code>:write !{cmd}</code>  Use the contents of the buffer as standard input for the specified {cmd}.</li>
<li> Filtering the contents of a buffer through an external command   <br/>
The <code>:!{cmd}</code>command takes on a different meaning when it&rsquo;s given a range. The lines specified by <code>[range]</code> are passed as standard input for the <code>{cmd}</code>, and then the output from <code>{cmd}</code> overwrites the original contents of <code>[range]</code>.</li>
</ol>
</li>
<li>Manage Multiple Files

<ol>
<li> <code>:args</code>  argument list, represents the list of files that was passed as an argument when we ran the vim command.</li>
<li> <code>&lt;C - w&gt;s</code> divide the window horizontally   <code>&lt;C - w&gt;v</code> divide the window vertically. Each time we use these commands, the two resulting split windows will contain the same buffer as the original window that was divided.  <br/>
或者<code>:sp {filename}</code> 水平分割打开文件   <code>:vsp {filename}</code> 垂直分割打开文件   <br/>
<code>&lt;C - w&gt;w</code> cycle between open windows   <br/>
<code>:cl[ose]</code> or <code>&lt;C - w&gt;c</code>  close the active window   <br/>
<code>:on[ly]</code> or <code>&lt;C - w&gt;o</code>  keep only the active window, closing all others</li>
<li> <code>:tabe[dit] {filename}</code>  open {filename} in a new tab   <br/>
<code>:tabc[lose]</code> close the current tab page and all of its windows.  <br/>
<code>:tabo[nly]</code>   keep the active tab page, closing all othersa     <br/>
<code>tabn[ext]</code>  or gt  Switch to the next tab page</li>
</ol>
</li>
<li>Open Files and Save Them to Disk

<ol>
<li> <code>:edit %:h&lt;Tab&gt;</code>  Open a File Relative to the active file directory.  The <code>%</code> symbol is a shorthand for the filepath of the active buffer. The <code>:h</code> modifier removes the filename while preserving the rest of the path</li>
<li> <code>:e[dit] .</code> or <code>:E[xplore]</code> Open file explorer for the current working directory or the directory of the active buffer</li>
</ol>
</li>
<li>Navigate Inside Files with Motions

<ol>
<li> Real lines and Display lines     <br/>
<code>gj</code> <code>gk</code>  go down/up one display line.    <br/>
<code>g0</code> to first character of the display line    <br/>
也就是所有在display line上的操作都是以g开头的</li>
<li> <code>f{char}</code> <code>;</code> <code>,</code>  行内查找字符  重复  反向     <br/>
小技巧： When using the character search commands, it&rsquo;s better to choose target characters with  a low frequency of occurrences. 尽量选出现频率低的</li>
<li> <code>vi'</code> <code>va'</code>  区别是：第一个是inside，第二个是all. <code>cit</code> stands for &ldquo;change inside the tag&rdquo;</li>
<li> <code>iw</code>与<code>aw</code>的区别  <code>iw</code> stands for &ldquo;current word&rdquo;, while <code>aw</code> stands for &ldquo;current word plus one space&rdquo;. 因此，<code>aw</code>对象适合用于删除（d）操作，而<code>iw</code>适合用于修改（c）操作。</li>
<li> <code>m{a-zA-Z}</code> marks the current cursor location with the designated letter. Lowercase marks are local to each individual buffer, whereal uppercase marks are globally accessible. <code>'{mark}</code> moves to the line where a mark was set, positioning the cursor on the first non-whitespace character.<code>`{mark}</code>moves the cursor to the exact position where a mark was set.    <br/>
The <code>mm</code> and <code>'m</code> commands makes a handy pair. Respectively, they set the mark m and jump to it.</li>
<li> Surround.vim 插件，非常酷～ 一开始装了不起作用，后来发现是跟.vimrc配置中关于fcitx的设置有冲突，只能暂时不用fcitx的配置了。</li>
</ol>
</li>
<li>Navigate Between Files with Jumps

<ol>
<li> motions and jumps.  motions move around within a file, whereas jumps can move between files. jumps可以在文件之间跳转～</li>
<li> <code>&lt;C - i&gt;</code>  jump back   <br/>
<code>&lt;C - o&gt;</code> jump forth</li>
<li> <code>(/)</code> <code>{/}</code>  jump to start of previous/next sentence/paragraph</li>
<li> <code>H/M/L</code>  jump to top/middle/bottom of screen</li>
</ol>
</li>
<li>Copy and Paste

<ol>
<li> vim中使用<code>dd</code>或<code>yy</code>命令时，被复制或剪切的内容默认是放在未命名寄存器中的（unnamed register），若要指定特定的寄存器，需要<code>"{register}</code>，比如要复制内容到a寄存器，需要<code>"ayiw</code>，然后粘贴内容需要<code>"ap</code></li>
<li> 当我们使用复制命令时（<code>y{motion}</code>），特定的文本不仅被复制到未命名寄存器中，它同时也被复制到了复制寄存器（yank register），这个寄存器可以用<code>"0</code>来引用。</li>
<li> 黑洞寄存器（The Black Hole Register）。 在删除一些内容时，如果确定以后不会再使用它，那么为防止它污染当前的unamed register，可以用<code>"_</code>将它放入黑洞寄存器。 If we run the command <code>"_d{motion}</code>, then Vim deletes the specified text without saving a copy of it.</li>
<li> 系统寄存器和选择寄存器。 用于Vim外的程序与Vim共享内存。<code>"+</code>可以访问到系统中复制、剪切到剪切板的内容，而<code>"*</code>是专门针对Linux平台上的X11系统的，在X11系统中，内容只要被选中即被放在了系统剪切板中了，此时在Vim中可用<code>"*</code>寄存器访问。</li>
<li> 避免系统剪切板的内容剪切到Vim中出现太多缩进的情况。  这个问题的出现是由于autoindent特性的开启，如果此时需要在Insert模式下插入系统剪切板的内容，一个方法是先开启paste模式（<code>:set paste</code>），然后这时用鼠标中键粘贴就不会有问题了，不过记得用完要关掉paste模式（<code>:set paste!</code>）。更简单的方法是：直接在命令行模式下使用<code>"+p</code>或者<code>"*p</code>，不用管什么模式了。</li>
</ol>
</li>
<li>Macros

<ol>
<li> <code>q{register}</code> 开始录制，再次按q来停止录制，可以通过<code>:reg {register}</code>来查看宏的内容</li>
<li> 通过<code>@{register}</code>来执行宏，<code>@@</code>来执行最近调用过的宏</li>
<li> Series or Parallel 顺序还是并行。以并行方式执行宏，遇到错误时不会停止。</li>
<li> 录制宏的原则：确保每条命令都可以被<strong>重复</strong>执行</li>
<li> 如何以并行方式执行宏？先在visual模式下选中需要执行宏的所有行，然后在命令行<code>:normal @a</code></li>
<li> 在宏的末尾追加命令。假设之前录制的宏为a，则使用<code>qA</code>可以在原来的宏末尾继续添加命令而不会覆盖之前的宏。</li>
</ol>
</li>
<li>Matching Patterns and Literals

<ol>
<li> 按正则表达式查找时，使用<code>\v</code>模式开关，这会开启very magic搜索模式 eg. <code>/\v#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})</code></li>
<li> 按原义查找文本时，使用<code>\V</code>原义开关 eg. <code>/\Va.k.a</code></li>
<li> 界定单词的边界。用<code>&lt; &gt;</code>来标识单词的边界  eg. <code>/\v&lt;the&gt;</code></li>
<li> 界定匹配的边界。用<code>\zs</code>标识匹配的开始，<code>\ze</code>标识匹配的结束，比较有趣，查找还按原来的规则查找，只是显示匹配的时候只把感兴趣的部分显示出来。 eg. <code>/\v"\zs[^"]+\ze"</code> 只显示引号内的内容</li>
<li> 统计当前模式的匹配个数。 <code>:%s///gn</code></li>
</ol>
</li>
</ul>


		
		
	</div>

<div class="meta">
	
		<span class="comments"><a href="/blog/2015/01/12/note-from-practical-vim//blog/page/3/index.html#disqus_thread">Comments</a></span>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/10/07/io-in-python/">
		
			理解Python中的stdin Stdout Stderr</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2014-10-07T10:29:00+08:00" pubdate data-updated="true">Oct 7<span>th</span>, 2014</time></div>
      <div class="tags">Tags: 

</div>
    </div>
		<p>看到一个题目，要求用Python实现linux中的命令tee的功能，tee的功能还是很简单的，就是把接收到的标准输入再输出到重定向和一个文件中。这些用Python来做应该不是什么难事，可是在Python里面怎么接收标准输入呢？</p>

<p>首先，有这样一个层级关系，<code>print</code>和<code>raw_input</code>这样的高级命令调用的是sys.stdin和sys.stdout，而sys.stdin和sys.stdout是file like object（类似于linux中一切设备皆文件），这一层的实现是Python的io模块。</p>

<p>下面通过两个例子可以清楚的看出print和sys.stdin和sys.stdout的关系。每个例子中第一句实现的效果跟后面的一沱实现的效果是一样一样的～</p>

<pre><code>######### stdout test ########
print 'hello world'

import sys
sys.stdout.write('hello world')

######### stdin test ########
print 'hi, %s' %raw_input('please input your name: ')

import sys
print 'please input your name: ',
name = sys.stdin.readline()[:-1]
print 'hi, %s' %name
#############################
</code></pre>

<p>比较好玩的事情是可以通过更改sys.stdin sys.stdout来实现类似linux中的重定向操作。比如默认stdout是终端，你可以在代码里通过<code>f = open(filename, 'w')</code> <code>sys.stdout = f</code>来把输出重定向到一个文件。</p>

<p>下面说下更底层的io模块。</p>

<p>像我们平时通过open等命令建立file like object后所使用的所有命令都是在io模块里实现的，比如write read readline seek flush等等。</p>

<p>io分三种类型：text I/O、binary I/O、raw I/O，以前总是傻傻分不清楚，现在终于理解了～</p>

<p>text I/O顾名思义，就是对我们人类来说能看到的、能识别的文字数据。无论什么数据都是以二进制的形式存储在计算机里的，但人类能识别的文字是以编码（assic、gbk、utf8）的形式存储在计算机里的，因为最终还要拿出来给人类读啊～～</p>

<p>binary I/O就是指所有非文本信息了，这类数据无需编码解码，也不用处理换行符，比如图片文件等。这个类型对应的open里的打开模式<code>'b'</code></p>

<p>raw I/O文档里说不常用，目前我也没理解它是干啥用的。。</p>

<p>最后，简陋的tee</p>

<pre><code>import sys 

def tee(filename):
    with open(filename, 'w') as f:
    for line in sys.stdin.readlines():
        sys.stdout.write(line)
        f.write(line)

if __name__ == '__main__':
    filename = sys.argv[1]
    tee(filename)
</code></pre>

<h3>参考</h3>

<ul>
<li><a href="http://en.wikibooks.org/wiki/Python_Programming/Input_and_Output">Python Programming/Input and Output</a></li>
<li><a href="http://woodpecker.org.cn/diveintopython/scripts_and_streams/stdin_stdout_stderr.html">标准输入、输出和错误</a></li>
<li><a href="https://docs.python.org/3.1/library/io.html#module-io">io — Core tools for working with streams</a></li>
<li><a href="http://5ydycm.blog.51cto.com/115934/304324">Python之sys模块小探</a></li>
</ul>


		
		
	</div>

<div class="meta">
	
		<span class="comments"><a href="/blog/2014/10/07/io-in-python//blog/page/3/index.html#disqus_thread">Comments</a></span>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/10/06/preparing-for-the-job/">
		
			Preparing for the Job</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2014-10-06T10:16:00+08:00" pubdate data-updated="true">Oct 6<span>th</span>, 2014</time></div>
      <div class="tags">Tags: 

</div>
    </div>
		<p>面试太渣，皆因毫无准备。</p>

<h3>多进程与多线程的区别</h3>

<ul>
<li>进程叫process，线程叫thread，cpu在任一时刻只能运行一个进程。一个进程可以包含多个线程</li>
<li>进程开销较大，线程开销较小</li>
<li>进程是<strong>资源分配</strong>的基本单位，线程是cpu调度的基本单位</li>
<li>进程有自己的地址空间，系统必须分配给它独立的地址空间，建立众多的数据表来维护它的代码段、堆栈段和数据段，是一种非常昂贵的多任务工作方式。而一个进程中的线程，它们之间共享大部分数据，使用相同的地址空间，因此切换线程比切换进程快的多，也就是说线程之间的通信比较方便，但从另一方面来说，如何控制线程对共享数据的访问又是一个难点了。</li>
<li>多进程程序比多线程程序要健壮。一个进程挂了，对别的进程基本不会有影响，但一个线程挂了，很可能会导致进程内的其它线程也挂掉。</li>
</ul>


<p>参考：
<a href="http://blog.csdn.net/morewindows/article/details/7392749">秒杀多线程第一篇 多线程笔试面试题汇总</a></p>

<h3>Python如何进行内存管理？</h3>

<ul>
<li>在一个对象的引用计数减为0时，对此对象进行内存回收</li>
</ul>


<p>参考：
<a href="http://www.cnblogs.com/vamei/p/3232088.html">Python深入06 Python的内存管理</a></p>

<h3>Python里如何拷贝一个对象？</h3>

<ul>
<li>首先要知道为什么要复制对象，因为在Python中无论是把对象作为参数传递还是作为函数返回值，都是引用传递的。那当我们不想传递引用的时候就要复制一个全新的对象了。</li>
<li>复制分为浅复制和深复制。浅复制是指只复制对象，但对象里的元素仍然使用引用。深复制（deepcopy）就是完完全全的复制了。</li>
</ul>


<p>参考：
<a href="http://blog.csdn.net/sharkw/article/details/1934090">深复制和浅复制</a></p>

<h3>RE模块中search和match的区别</h3>

<ul>
<li>match只搜寻第一个是否满足，若满足返回它，若不满足，则返回None</li>
<li>search搜索字符串，返回它遇到的第一个满足条件的，而不仅仅是查看第一个
注意这两个命令都是只返回一个满足条件的，要想返回所有满足条件的，要用findall</li>
</ul>


<p>参考：
<a href="https://docs.python.org/2/library/re.html#search-vs-match">search vs match</a></p>

<h3>用Python匹配HTML tag的时候，<code>&lt;.*&gt;</code>和<code>&lt;.*?&gt;</code>有什么区别？</h3>

<p>贪婪模式和非贪婪模式。
The <code>'*'</code>, <code>'+'</code>, and <code>'?'</code> qualifiers are all greedy; they match as much text as possible. Sometimes this behaviour isn’t desired; if the RE <code>&lt;.*&gt;</code> is matched against <code>'&lt;H1&gt;title&lt;/H1&gt;'</code>, it will match the entire string, and not just <code>'&lt;H1&gt;'</code>. Adding <code>'?'</code> after the qualifier makes it perform the match in non-greedy or minimal fashion; as few characters as possible will be matched. Using <code>.*?</code> in the previous expression will match only <code>'&lt;H1&gt;'</code>.</p>

<h3>python程序中文输出问题怎么解决？</h3>

<p>中文输出的问题都是由于编码问题。</p>

<p>中文字符串使用的编码与其所在的文件使用的编码一致。所以正确处理的步骤是：先用其原有编码decode成python内部的unicode，做了该做的处理后，什么时候想输出啦，这时候再使用encode，把它encode成任何想输出的编码形式。</p>

<h3>正则表达式匹配ip</h3>

<p><code>src = "security/afafsff/?ip=123.4.56.78&amp;id=45"</code>，请写一段代码用正则匹配出ip</p>

<pre><code>regx = re.compile(r'([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)')
m = regx.search("security/afafsff/?ip=123.4.56.78&amp;id=45")
m.groups()
('123', '4', '56', '78')
</code></pre>

<p>注意，使用groups可以返回找到的所有subgroups，非常方便。另外，group(0)返回整个匹配，group(1)返回第一个subgroup等等</p>

<h3>json</h3>

<p>写一段代码用json数据的处理方式获取{&ldquo;persons&rdquo;:[{&ldquo;name&rdquo;:&ldquo;yu&rdquo;,&ldquo;age&rdquo;:&ldquo;23&rdquo;},{&ldquo;name&rdquo;:&ldquo;zhang&rdquo;,&ldquo;age&rdquo;:&ldquo;34&rdquo;}]}这一段json中第一个人的名字。</p>

<pre><code>j = json.loads('{"persons":[{"name":"yu","age":"23"},{"name":"zhang","age":"34"}]}')
j.get('persons')[0]['name']
</code></pre>

<h3>平衡点</h3>

<p>比如int[] numbers = {1,3,5,7,8,25,4,20}; 25前面的总和为24，25后面的总和也是24，25这个点就是平衡点；假如一个数组中的元素，其前面的部分等于后面的部分，那么这个点的位序就是平衡点
我写出的版本，完全就是把题意翻译了一遍，能满足要求，效率应该不好</p>

<pre><code>def findMiddle(lst):
    for i in xrange(1, len(lst)-1):
    if sum(lst[:i]) == sum(lst[i+1:]):
        print i
</code></pre>

<p>看到别人的做法是，先算一遍总和，然后从左往右一个一个加，出现和一半的时候，说明找到平衡点了。</p>

<pre><code>def findMiddle2(lst):
    totle = sum(lst)

    add = 0 
    for i in xrange(0, len(lst)-1):
    add += lst[i]
    if totle - lst[i+1] == 2 * add:
        print i+1, lst[i+1]
</code></pre>

<h3>支配点</h3>

<p>支配数：数组中某个元素出现的次数大于数组总数的一半时就成为支配数，其所在位序成为支配点；比如int[] a = {3,3,1,2,3};3为支配数，0，1，4分别为支配点；</p>

<pre><code>def findDomain(lst):
    count = [ i for i,x in enumerate(lst) if lst.count(x) &gt; len(lst)//2 ]  # elegant solution
    if count:
    print lst[count[0]], count
</code></pre>

<h3>什么是PEP 8？</h3>

<p>Python编码规范</p>

		
		
	</div>

<div class="meta">
	
		<span class="comments"><a href="/blog/2014/10/06/preparing-for-the-job//blog/page/3/index.html#disqus_thread">Comments</a></span>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/10/05/socks-proxy-and-http-proxy/">
		
			Socks代理和http代理的区别</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2014-10-05T11:50:00+08:00" pubdate data-updated="true">Oct 5<span>th</span>, 2014</time></div>
      <div class="tags">Tags: 

</div>
    </div>
		<p>一直傻傻分不清楚，都是因为平时很少接触，虽然翻墙常用，但也只是按教程一步一步来，并未知其所以然。</p>

<p>之前一直听别人说socks代理多么多么好，自己只是模模糊糊半懂不懂，现在终于切身体会到了一个好处，用socks代理后就没有证书问题的困扰了～～之前用的GoAgent使用的是http代理，每次访问https网站时，总是提示证书有问题，导入GoAgent的自带证书还是有问题，这下用了shadowsocks后一切都清净了。。为什么socks代理就这么牛逼呢？因为socks代理更底层，只负责发送接收数据，至于你是什么http ftp tcp udp它根本就不care。</p>

<ul>
<li>socks代理更底层，是在会话层；而http代理是在应用层。因此socks代理可以代理一切客户端的连接，而http代理只能代理使用http协议的客户端</li>
<li>由于更底层，不需要处理高级协议的细节，所以socks代理更快</li>
<li>socks协议分v4和v5版本，v4只能代理tcp协议，而v5什么协议都可以代理</li>
</ul>


		
		
	</div>

<div class="meta">
	
		<span class="comments"><a href="/blog/2014/10/05/socks-proxy-and-http-proxy//blog/page/3/index.html#disqus_thread">Comments</a></span>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/09/18/binary-search-and-spreadsheet-numeration/">
		
			Binary Search and Spreadsheet Numeration</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2014-09-18T18:54:00+08:00" pubdate data-updated="true">Sep 18<span>th</span>, 2014</time></div>
      <div class="tags">Tags: 


	<a class='category' href='/blog/categories/suan-fa/'>算法</a>


</div>
    </div>
		<p>昨天去知道创宇的面试失败了，很感谢他们能给我这个机会。通过这次面试，我总算迈出了一步，更加明确了自己应该努力的方向。这次面试反映出的一个很严重的问题就是，手太生，学了这么长时间Python，竟然连一些常用的用法，命令都得现查文档。自己反思一下，没有自己动手写多少代码，这个是问题的关键。</p>

<p>面试我的雨哥人非常nice，面对我这么菜的表现没有一点不耐烦，他说的一句话让我印象深刻，“既然是有兴趣，平时就多花点时间，对得起兴趣这两个字”。我会的。</p>

<h2>二分法查找</h2>

<p>我想这个应该是最容易理解的算法了吧，我差点就在面试的时候完成了，well,almost&hellip;</p>

<p>思路很简单，因为给出的列表已经是排好顺序的了，因此直接找到中间的一个记为mid，若是要找的元素，任务完成。若mid比要找的元素大，好的，那么要找的元素肯定在start跟mid之间了，若mid比要找的元素小，那么要找的元素肯定在mid和end之间了。</p>

<figure class='code'><figcaption><span>binary-search</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">def</span> <span class="nf">binarySearch</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">):</span>
</span><span class='line'>    <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
</span><span class='line'>    <span class="k">if</span> <span class="n">element</span> <span class="o">==</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
</span><span class='line'>        <span class="k">print</span> <span class="s">&#39;Found, </span><span class="si">%d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">mid</span>
</span><span class='line'>    <span class="k">elif</span> <span class="n">mid</span> <span class="o">==</span> <span class="n">start</span><span class="p">:</span>
</span><span class='line'>        <span class="k">if</span> <span class="n">element</span> <span class="o">==</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span>  <span class="c"># 主要处理两个相邻的数的情况，这种情形下mid必然等于start</span>
</span><span class='line'>            <span class="k">print</span> <span class="s">&#39;Found, </span><span class="si">%d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="c"># 因此如果end（也就是mid+1）不等于element的话，则没找到</span>
</span><span class='line'>        <span class="k">else</span><span class="p">:</span>
</span><span class='line'>            <span class="k">print</span> <span class="s">&#39;Not found&#39;</span>
</span><span class='line'>    <span class="k">elif</span> <span class="n">element</span> <span class="o">&gt;</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">binarySearch</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
</span><span class='line'>    <span class="k">elif</span> <span class="n">element</span> <span class="o">&lt;</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">binarySearch</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">mid</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">binarySearch2</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">):</span>
</span><span class='line'>    <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
</span><span class='line'>    <span class="k">if</span> <span class="n">element</span> <span class="o">==</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
</span><span class='line'>        <span class="k">return</span> <span class="s">&#39;Found, </span><span class="si">%d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">mid</span>
</span><span class='line'>    <span class="k">elif</span> <span class="n">start</span> <span class="o">&gt;</span> <span class="n">end</span><span class="p">:</span>
</span><span class='line'>        <span class="k">return</span> <span class="s">&#39;Not found&#39;</span>
</span><span class='line'>    <span class="k">elif</span> <span class="n">element</span> <span class="o">&lt;</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">binarySearch2</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">mid</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>    <span class="k">elif</span> <span class="n">element</span> <span class="o">&gt;</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">binarySearch2</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">binarySearch3</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
</span><span class='line'>    <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
</span><span class='line'>    <span class="n">end</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
</span><span class='line'>    <span class="k">while</span> <span class="p">(</span><span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">):</span>
</span><span class='line'>        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
</span><span class='line'>        <span class="k">if</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">element</span><span class="p">:</span>
</span><span class='line'>            <span class="k">return</span> <span class="s">&#39;Found&#39;</span><span class="p">,</span> <span class="n">mid</span>
</span><span class='line'>        <span class="k">elif</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">element</span><span class="p">:</span>
</span><span class='line'>            <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
</span><span class='line'>        <span class="k">elif</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">element</span><span class="p">:</span>
</span><span class='line'>            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
</span><span class='line'>    <span class="k">return</span> <span class="s">&#39;Not found&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>上面的方法一是我自己瞎想的ugly思路，方法三是我在一站式C编程上看到的，方法二是我根据方法三的思路用递归改写的</p>

<h2>spreadsheet numeration</h2>

<p>这个题目其实我之前在CodeForces上做过的，可惜没有理解它的真谛，虽然当时误打误撞做出来了，还是没有效果，现在遇到还是不会做，面试中雨哥一句话点醒我，“进制转换”，是啊，这个问题实质上就是十进制转换26进制的问题。那进制转换无非就是要做除法、取余。但是也不是这么简单，有一个比较tricky的问题，就是在转换26的倍数的时候，需要做一些特殊处理才行。</p>

<figure class='code'><figcaption><span>spreadsheet-numeration</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">def</span> <span class="nf">numTochar</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
</span><span class='line'>    <span class="n">result</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
</span><span class='line'>    <span class="n">ori</span> <span class="o">=</span> <span class="n">num</span>
</span><span class='line'>    <span class="k">while</span> <span class="n">num</span><span class="p">:</span>
</span><span class='line'>        <span class="n">mod</span> <span class="o">=</span> <span class="n">num</span> <span class="o">%</span> <span class="mi">26</span>
</span><span class='line'>        <span class="k">if</span> <span class="n">mod</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span class='line'>            <span class="n">mod</span> <span class="o">=</span> <span class="mi">26</span>
</span><span class='line'>            <span class="n">num</span> <span class="o">=</span> <span class="n">num</span><span class="o">/</span><span class="mi">26</span> <span class="o">-</span> <span class="mi">1</span> <span class="c"># special cases for &#39;Z&#39; </span>
</span><span class='line'>        <span class="k">else</span><span class="p">:</span>
</span><span class='line'>            <span class="n">num</span> <span class="o">/=</span> <span class="mi">26</span>
</span><span class='line'>        <span class="n">result</span> <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="n">mod</span> <span class="o">+</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">result</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">result</span><span class="p">,</span><span class="n">ori</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">numTochar2</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
</span><span class='line'>    <span class="n">result</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
</span><span class='line'>    <span class="n">ori</span> <span class="o">=</span> <span class="n">num</span>
</span><span class='line'>    <span class="k">while</span> <span class="n">num</span><span class="p">:</span>
</span><span class='line'>        <span class="n">mod</span> <span class="o">=</span> <span class="n">num</span> <span class="o">%</span> <span class="mi">26</span>
</span><span class='line'>        <span class="k">if</span> <span class="n">mod</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span class='line'>            <span class="n">mod</span> <span class="o">=</span> <span class="mi">26</span>
</span><span class='line'>        <span class="n">num</span> <span class="o">-=</span> <span class="mi">1</span>       <span class="c"># a more elegant solution</span>
</span><span class='line'>        <span class="n">num</span> <span class="o">/=</span> <span class="mi">26</span>
</span><span class='line'>        <span class="n">result</span> <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="n">mod</span> <span class="o">+</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">result</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">result</span><span class="p">,</span><span class="n">ori</span>
</span></code></pre></td></tr></table></div></figure>


<p>方法一是我自己捣鼓的，方法二是我在CodeForces上看到了，效果应该是一样的，都是为了在转换26的倍数的时候能够得出正确的结果，做出的一点特殊处理，不过显然后者更加优雅，每个数在除26之前先减1,这样既对于非26倍数的数没有影响，又能巧妙的处理26的倍数时的特殊情况。</p>

		
		
	</div>

<div class="meta">
	
		<span class="comments"><a href="/blog/2014/09/18/binary-search-and-spreadsheet-numeration//blog/page/3/index.html#disqus_thread">Comments</a></span>
	
</div>
</article>

<nav id="pagenavi">
    
        <a href="/blog/page/2/" class="prev">Prev</a>
    
    
        <a href="/blog/page/4/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav>

    </div>
    <footer id="footer">
    <div style="display:inline">
    Copyright &copy; 2019

    linuxfish
. Powered by <a href="http://octopress.org">Octopress</a> | 
    Theme <a href="http://github.com/panks/fabric">fabric</a> by <a href="http://panks.me">Pankaj Kumar</a>
</div>


    </footer>
    <script src="/javascripts/fabric.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'thehardwayiseasier';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





<!-- end toload --> 
</div>
</div>
<script src="/javascripts/jquery.ui.totop.js" type="text/javascript"></script>
<script type="text/javascript">
/*<![CDATA[*/
;(function($){$().UItoTop({easingType:'easeOutCirc'});})(jQuery); 
/*]]>*/
</script><!-- remove it to remove the scroll to top button -->
</body>
</html>
