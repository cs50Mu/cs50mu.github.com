
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>首页 - The Hard Way Is Easier</title>
    <meta name="author" content="linuxfish">
    
	<meta name="description" content="Published on: Oct 5th, 2014 Tags: 一直傻傻分不清楚，都是因为平时很少接触，虽然翻墙常用，但也只是按教程一步一步来，并未知其所以然。 之前一直听别人说socks代理多么多么好，自己只是模模糊糊半懂不懂，现在终于切身体会到了一个好处， &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="The Hard Way Is Easier" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.ico" rel="shortcut icon">
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">

    <link href='http://fonts.googleapis.com/css?family=Slackey' rel='stylesheet' type='text/css'>
    <!--<link href='http://fonts.useso.com/css?family=Slackey' rel='stylesheet' type='text/css'> -->
    <link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
    <!--<link href='http://fonts.useso.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'> -->
    <link href='http://fonts.googleapis.com/css?family=Amethysta' rel='stylesheet' type='text/css'>
    <!--<link href='http://fonts.useso.com/css?family=Amethysta' rel='stylesheet' type='text/css'> -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <!--<script src="http://ajax.useso.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script> -->
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

    <script type="text/javascript" src="/javascripts/jquery-tapir.js"></script>

    <!-- remove or comment it to disable ajaxification -->   
    <script src="/javascripts/ajaxify.js"></script>
   
    
    

</head>


<body>
    <div id="wrapper">
    <header id="header" class="inner"><!-- for more effects see _animate.scss -->
<h1 class="animated bounceInDown">
    <div id="headerbg">
        linuxfish
    </div>
</h1>
<br>

<ul id="social-links" style="text-align:center">
  
  <!-- GitHub -->
  <li>
  <a href="https://github.com/cs50mu" class="github" title="Github"></a>
  </li>
  
  
  <!-- Google Plus -->
  <li>
  <a href="http://plus.google.com/linuxfish.exe@gmail.com?rel=author" class="google" title="Google+"></a>
  </li>
  
  
  
  <!-- Twitter -->
  <li>
  <a href="http://www.twitter.com/linuxfish" class="twitter" title="Twitter"></a>
  </li>
  
  
  
  
  
</ul>


<!-- use full url including 'index.html' for navigation bar if you are using ajax -->
<ul id="nav">
	<li id="ajax"><a href="/index.html">Home</a></li>
	<li id="ajax"><a href="/blog/archives/index.html">Archives</a></li>
    <li><a href="/atom.xml">RSS</a></li>
    
    <li>
    <div id="dark">
        <form method="get" action="/search.html" id="search">
            <input name="query" type="text" placeholder="Search..." x-webkit-speech />
        </form>
    </div>
    </li>
        
</ul>




</header>

<div id="toload">
<!-- begin toload --> 
    <div id="content" class="inner">
        


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/10/05/socks-proxy-and-http-proxy/">
		
			Socks代理和http代理的区别</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2014-10-05T11:50:00+08:00" pubdate data-updated="true">Oct 5<span>th</span>, 2014</time></div>
      <div class="tags">Tags: 

</div>
    </div>
		<p>一直傻傻分不清楚，都是因为平时很少接触，虽然翻墙常用，但也只是按教程一步一步来，并未知其所以然。</p>

<p>之前一直听别人说socks代理多么多么好，自己只是模模糊糊半懂不懂，现在终于切身体会到了一个好处，用socks代理后就没有证书问题的困扰了～～之前用的GoAgent使用的是http代理，每次访问https网站时，总是提示证书有问题，导入GoAgent的自带证书还是有问题，这下用了shadowsocks后一切都清净了。。为什么socks代理就这么牛逼呢？因为socks代理更底层，只负责发送接收数据，至于你是什么http ftp tcp udp它根本就不care。</p>

<ul>
<li>socks代理更底层，是在会话层；而http代理是在应用层。因此socks代理可以代理一切客户端的连接，而http代理只能代理使用http协议的客户端</li>
<li>由于更底层，不需要处理高级协议的细节，所以socks代理更快</li>
<li>socks协议分v4和v5版本，v4只能代理tcp协议，而v5什么协议都可以代理</li>
</ul>


		
		
	</div>

<div class="meta">
	
		<span class="comments"><a href="/blog/2014/10/05/socks-proxy-and-http-proxy//blog/page/3/index.html#disqus_thread">Comments</a></span>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/09/18/binary-search-and-spreadsheet-numeration/">
		
			Binary Search and Spreadsheet Numeration</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2014-09-18T18:54:00+08:00" pubdate data-updated="true">Sep 18<span>th</span>, 2014</time></div>
      <div class="tags">Tags: 


	<a class='category' href='/blog/categories/suan-fa/'>算法</a>


</div>
    </div>
		<p>昨天去知道创宇的面试失败了，很感谢他们能给我这个机会。通过这次面试，我总算迈出了一步，更加明确了自己应该努力的方向。这次面试反映出的一个很严重的问题就是，手太生，学了这么长时间Python，竟然连一些常用的用法，命令都得现查文档。自己反思一下，没有自己动手写多少代码，这个是问题的关键。</p>

<p>面试我的雨哥人非常nice，面对我这么菜的表现没有一点不耐烦，他说的一句话让我印象深刻，“既然是有兴趣，平时就多花点时间，对得起兴趣这两个字”。我会的。</p>

<h2>二分法查找</h2>

<p>我想这个应该是最容易理解的算法了吧，我差点就在面试的时候完成了，well,almost&hellip;</p>

<p>思路很简单，因为给出的列表已经是排好顺序的了，因此直接找到中间的一个记为mid，若是要找的元素，任务完成。若mid比要找的元素大，好的，那么要找的元素肯定在start跟mid之间了，若mid比要找的元素小，那么要找的元素肯定在mid和end之间了。</p>

<figure class='code'><figcaption><span>binary-search</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">def</span> <span class="nf">binarySearch</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">):</span>
</span><span class='line'>    <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
</span><span class='line'>    <span class="k">if</span> <span class="n">element</span> <span class="o">==</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
</span><span class='line'>        <span class="k">print</span> <span class="s">&#39;Found, </span><span class="si">%d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">mid</span>
</span><span class='line'>    <span class="k">elif</span> <span class="n">mid</span> <span class="o">==</span> <span class="n">start</span><span class="p">:</span>
</span><span class='line'>        <span class="k">if</span> <span class="n">element</span> <span class="o">==</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span>  <span class="c"># 主要处理两个相邻的数的情况，这种情形下mid必然等于start</span>
</span><span class='line'>            <span class="k">print</span> <span class="s">&#39;Found, </span><span class="si">%d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="c"># 因此如果end（也就是mid+1）不等于element的话，则没找到</span>
</span><span class='line'>        <span class="k">else</span><span class="p">:</span>
</span><span class='line'>            <span class="k">print</span> <span class="s">&#39;Not found&#39;</span>
</span><span class='line'>    <span class="k">elif</span> <span class="n">element</span> <span class="o">&gt;</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">binarySearch</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
</span><span class='line'>    <span class="k">elif</span> <span class="n">element</span> <span class="o">&lt;</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">binarySearch</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">mid</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">binarySearch2</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">):</span>
</span><span class='line'>    <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
</span><span class='line'>    <span class="k">if</span> <span class="n">element</span> <span class="o">==</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
</span><span class='line'>        <span class="k">return</span> <span class="s">&#39;Found, </span><span class="si">%d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">mid</span>
</span><span class='line'>    <span class="k">elif</span> <span class="n">start</span> <span class="o">&gt;</span> <span class="n">end</span><span class="p">:</span>
</span><span class='line'>        <span class="k">return</span> <span class="s">&#39;Not found&#39;</span>
</span><span class='line'>    <span class="k">elif</span> <span class="n">element</span> <span class="o">&lt;</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">binarySearch2</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">mid</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>    <span class="k">elif</span> <span class="n">element</span> <span class="o">&gt;</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="p">]:</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">binarySearch2</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">binarySearch3</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
</span><span class='line'>    <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
</span><span class='line'>    <span class="n">end</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
</span><span class='line'>    <span class="k">while</span> <span class="p">(</span><span class="n">start</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">):</span>
</span><span class='line'>        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
</span><span class='line'>        <span class="k">if</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">element</span><span class="p">:</span>
</span><span class='line'>            <span class="k">return</span> <span class="s">&#39;Found&#39;</span><span class="p">,</span> <span class="n">mid</span>
</span><span class='line'>        <span class="k">elif</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">element</span><span class="p">:</span>
</span><span class='line'>            <span class="n">end</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
</span><span class='line'>        <span class="k">elif</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">element</span><span class="p">:</span>
</span><span class='line'>            <span class="n">start</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
</span><span class='line'>    <span class="k">return</span> <span class="s">&#39;Not found&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>上面的方法一是我自己瞎想的ugly思路，方法三是我在一站式C编程上看到的，方法二是我根据方法三的思路用递归改写的</p>

<h2>spreadsheet numeration</h2>

<p>这个题目其实我之前在CodeForces上做过的，可惜没有理解它的真谛，虽然当时误打误撞做出来了，还是没有效果，现在遇到还是不会做，面试中雨哥一句话点醒我，“进制转换”，是啊，这个问题实质上就是十进制转换26进制的问题。那进制转换无非就是要做除法、取余。但是也不是这么简单，有一个比较tricky的问题，就是在转换26的倍数的时候，需要做一些特殊处理才行。</p>

<figure class='code'><figcaption><span>spreadsheet-numeration</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">def</span> <span class="nf">numTochar</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
</span><span class='line'>    <span class="n">result</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
</span><span class='line'>    <span class="n">ori</span> <span class="o">=</span> <span class="n">num</span>
</span><span class='line'>    <span class="k">while</span> <span class="n">num</span><span class="p">:</span>
</span><span class='line'>        <span class="n">mod</span> <span class="o">=</span> <span class="n">num</span> <span class="o">%</span> <span class="mi">26</span>
</span><span class='line'>        <span class="k">if</span> <span class="n">mod</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span class='line'>            <span class="n">mod</span> <span class="o">=</span> <span class="mi">26</span>
</span><span class='line'>            <span class="n">num</span> <span class="o">=</span> <span class="n">num</span><span class="o">/</span><span class="mi">26</span> <span class="o">-</span> <span class="mi">1</span> <span class="c"># special cases for &#39;Z&#39; </span>
</span><span class='line'>        <span class="k">else</span><span class="p">:</span>
</span><span class='line'>            <span class="n">num</span> <span class="o">/=</span> <span class="mi">26</span>
</span><span class='line'>        <span class="n">result</span> <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="n">mod</span> <span class="o">+</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">result</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">result</span><span class="p">,</span><span class="n">ori</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">numTochar2</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
</span><span class='line'>    <span class="n">result</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
</span><span class='line'>    <span class="n">ori</span> <span class="o">=</span> <span class="n">num</span>
</span><span class='line'>    <span class="k">while</span> <span class="n">num</span><span class="p">:</span>
</span><span class='line'>        <span class="n">mod</span> <span class="o">=</span> <span class="n">num</span> <span class="o">%</span> <span class="mi">26</span>
</span><span class='line'>        <span class="k">if</span> <span class="n">mod</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span class='line'>            <span class="n">mod</span> <span class="o">=</span> <span class="mi">26</span>
</span><span class='line'>        <span class="n">num</span> <span class="o">-=</span> <span class="mi">1</span>       <span class="c"># a more elegant solution</span>
</span><span class='line'>        <span class="n">num</span> <span class="o">/=</span> <span class="mi">26</span>
</span><span class='line'>        <span class="n">result</span> <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="n">mod</span> <span class="o">+</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">result</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">result</span><span class="p">,</span><span class="n">ori</span>
</span></code></pre></td></tr></table></div></figure>


<p>方法一是我自己捣鼓的，方法二是我在CodeForces上看到了，效果应该是一样的，都是为了在转换26的倍数的时候能够得出正确的结果，做出的一点特殊处理，不过显然后者更加优雅，每个数在除26之前先减1,这样既对于非26倍数的数没有影响，又能巧妙的处理26的倍数时的特殊情况。</p>

		
		
	</div>

<div class="meta">
	
		<span class="comments"><a href="/blog/2014/09/18/binary-search-and-spreadsheet-numeration//blog/page/3/index.html#disqus_thread">Comments</a></span>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/07/26/sicp/">
		
			Structure and Interpretation of Computer Programs</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2014-07-26T22:59:00+08:00" pubdate data-updated="true">Jul 26<span>th</span>, 2014</time></div>
      <div class="tags">Tags: 


	<a class='category' href='/blog/categories/programming/'>programming</a>, <a class='category' href='/blog/categories/python/'>python</a>


</div>
    </div>
		<p>大名鼎鼎的SICP，下面是我在学习Berkeley的CS61A时做的笔记,非常有意思的一门课！</p>

<h2>高阶函数</h2>

<p>理解这玩意儿有时候确实挺费脑筋。。。下面这个trick花了好久才理解。。关键一开始没想明白返回的到底是匿名函数还是匿名函数的执行结果</p>

<pre><code>def cons(a, b):
    return lambda m: m(a,b) # 此处返回的是一个参数为m的匿名函数！！并且m是一个函数，m接受两个参数a和b

def car(p):
    return p(lambda x,y:x) # 

car(cons(1,2)) # 结果应该为1
</code></pre>

<p>以上代码大概类似于下面的代码：</p>

<pre><code>def fuck(func):
    def wrapper(a,b):
        return func(a,b)
    return wrapper

x = fuck(lambda x,y:x)
x(1,2) # 输出1
</code></pre>

<h2>递归  破钱</h2>

<p>下面的函数实现的功能是，给定一个数值，比方说100块，和一堆小面额的纸币，找出用这些小面额纸币来表示这100块总共有几种方法。其中link函数是用来制作链表的，first函数返回链表的第一个元素，rest函数返回链表的剩余所有元素。可以看到函数是用递归实现的，依据大概是这样的：100块的表示方法可以分为两类，一类方法中使用链表中的第一个面额，另一类方法中不使用第一个面额。就这么简单。。。神奇的是它竟然是能工作的！</p>

<pre><code>def count_change(amount, denominations):
    '''
    Return the number of ways to make change for amount
    '''
    if amount &lt; 0 or denominations == empty:
        return 0
    elif amount == 0:
        return 1
    using_coin = count_change(amount - first(denominations), denominations)
    not_using_coin = count_change(amount, rest(denominations))
    return using_coin + not_using_coin

denominations = link(50, link(25, link(10, link(5, link(1, empty)))))
&gt;&gt;&gt; print_linked_list(denominations)
&lt; 50 25 10 5 1 &gt;
&gt;&gt;&gt; count_change(100, denominations)
292
</code></pre>

<h2>ADT(Abstract Data type)</h2>

<p>ADT也属于抽象的一种，目的是控制复杂度，把复杂并且与下面要实现的功能无关的细节隐藏起来，只把几个关键的东西暴露给外部，要形成一个ADT一般需要一个constructor，一个selector，一个mutator等，有了这些，外部就可以用它们进一步实现别的功能了，像链表啊，树啊都属于ADT。其中，deep list和tree属于hierarchical data structure</p>

<h2>Implicit Sequences</h2>

<p>a sequence can be represented <strong>without</strong> each element being stored explicitly in the memory of the computer. That is, we can construct an object that provides access to all of the elements of some sequential dataset without computing all of those elements in advance and storing them. Instead, we compute elements on demand. 很巧妙的一种实现方式，不是把元素全部计算出来放在内存里等着去取，而是需要的时候才计算一个出来，这样可以节省大量的内存。这在计算机科学中叫lazy computation(lazy computation describes any program that delays the computation of a value until that value is needed). 但注意，实现这个强大功能的前提是sequential access(相对于random access)，也就是说只能按顺序依次获取，不能想取哪个就取哪个。嗯，iterator就是在这个背景下诞生了。。An iterator is an object that provides <strong>sequential access</strong> to an underlying sequential dataset. iterator就是为了方便处理那些具有内在顺序结构的数据而诞生的。The iterator abstraction has two components: a mechanism for retrieving the next element in some underlying series of elements and a mechanism for signaling that the end of the series has been reached and no further elements remain. In programming languages with built-in object systems, this abstraction typically corresponds to a particular interface that can be implemented by classes.</p>

<ul>
<li>iterators与iterables</li>
</ul>


<p>原来这两个不是一个东西。iterators需要实现<code>__next__</code>方法，是具体干活的。   <br/>
An object is iterable if it <strong>returns an iterator</strong> when its <code>__iter__</code> method is invoked. Iterable values represent data collections, and they provide a fixed representation that may produce more than one iterator. iterator和iterable类似于类和实例的关系吧,iterator负责实现模型、架构，iterable负责实例化。For example, an instance of the <code>Letters</code> class below represents a sequence of consecutive letters. Each time its <code>__iter__</code> method is invoked, a new <code>LetterIter</code> instance is constructed, which allows for sequential access to the contents of the sequence.</p>

<pre><code>&gt;&gt;&gt; class LetterIter:
    """An iterator over letters of the alphabet in ASCII order."""
    def __init__(self, start='a', end='e'):
        self.next_letter = start
        self.end = end
    def __next__(self):
        if self.next_letter == self.end:
        raise StopIteration
        letter = self.next_letter
        self.next_letter = chr(ord(letter)+1)
        return letter

&gt;&gt;&gt; class Letters:
    def __init__(self, start='a', end='e'):
        self.start = start
        self.end = end
    def __iter__(self):
        return LetterIter(self.start, self.end)

&gt;&gt;&gt; b_to_k = Letters('b', 'k')
&gt;&gt;&gt; first_iterator = b_to_k.__iter__()
&gt;&gt;&gt; next(first_iterator)
'b'
&gt;&gt;&gt; next(first_iterator)
'c'
&gt;&gt;&gt; second_iterator = iter(b_to_k)
&gt;&gt;&gt; second_iterator.__next__()
'b'
&gt;&gt;&gt; first_iterator.__next__()
'd'
&gt;&gt;&gt; first_iterator.__next__()
'e'
&gt;&gt;&gt; second_iterator.__next__()
'c'
&gt;&gt;&gt; second_iterator.__next__()
'd'
</code></pre>

<p>但是！在Python中<code>__next__</code>和<code>__iter__</code>方法是在同一个类中的！To use an iterator in a for loop, the iterator must also have an <code>__iter__</code> method. The <a href="http://docs.python.org/3/library/stdtypes.html#iterator-types">Iterator types</a> section of the Python docs suggest that an iterator have an <code>__iter__</code> method that returns the iterator itself, so that all iterators are iterable. 只要理解了<code>__iter__</code>方法的作用，也很容易理解的啦。</p>

<ul>
<li>Generators and Yield Statements</li>
</ul>


<p>Generators属于Iterator，a generator is an <strong>iterator</strong> returned by a special class of function called a generator function. Generator functions are distinguished from regular functions in that rather than containing return statements in their body, they use yield statement to return elements of a series.</p>

<p>The Letters and Positives objects above require us to introduce a new field self.current into our object to keep track of progress through the sequence. With simple sequences like those shown above, this can be done easily. With complex sequences, however, it can be quite difficult for the <code>__next__</code> method to save its place in the calculation. Generators allow us to define more complicated iterations by leveraging the features of the Python interpreter.</p>

<p>Generators do not use attributes of an object to track their progress through a series. Instead, they control the execution of the generator function, which runs until the next yield statement is executed each time the generator&rsquo;s <code>__next__</code> method is invoked. The Letters iterator can be implemented much more compactly using a generator function. 虽然实现的功能是一样的，但Generators与iterators的实现机理是不一样的，yield的机理貌似是coroutines，到底是个神马东东，待查。</p>

<pre><code>&gt;&gt;&gt; def letters_generator():
    current = 'a'
    while current &lt;= 'd':
        yield current
        current = chr(ord(current)+1)

&gt;&gt;&gt; for letter in letters_generator():
    print(letter)
a
b
c
d
</code></pre>

<p>Even though we never explicitly defined <code>__iter__</code> or <code>__next__</code> methods, the yield statement indicates that we are defining a generator function. When called, a generator function doesn&rsquo;t return a particular yielded value, but instead a generator (which is a type of iterator) that itself can return the yielded values. A generator object has <code>__iter__</code> and <code>__next__</code> methods, and each call to <code>__next__</code> continues execution of the generator function from wherever it left off previously until another yield statement is executed.</p>

<p>The first time <code>__next__</code> is called, the program executes statements from the body of the <code>letters_generator</code> function until it encounters the yield statement. Then, it pauses and returns the value of current. yield statements do not destroy the newly created environment, they preserve it for later. When <code>__next__</code> is called again, execution resumes where it left off. The values of current and of any other bound names in the scope of <code>letters_generator</code> are preserved across subsequent calls to <code>__next__</code>.</p>

<p>这样，可以用yield语句来简化iterables的写法</p>

<pre><code>&gt;&gt;&gt; class LettersWithYield:
    def __init__(self, start='a', end='e'):
        self.start = start
        self.end = end
    def __iter__(self):
        next_letter = self.start
        while next_letter &lt; self.end:
        yield next_letter
        next_letter = chr(ord(next_letter)+1)
</code></pre>

<p>以前没有Generators的时候，还需要定义一个<code>__next__</code>方法来生成iterator，然后用<code>__iter__</code>方法来返回self，这下因为yield本身返回的就是一个Generator(也属于Iterator)，所以无需<code>__next__</code>方法来生成iterator。</p>

<h2>Mutation in for loops</h2>

<p>如果在for循环中对对象做了修改（增加或删除），会出现无法预测的结果</p>

<pre><code># Demo: Mutation in For Loops
# lst = list(range(10, 20))
# for item in lst:
#     print(item)
#     lst.remove(item)
# lst
# 下面是解决办法, 不过原理未搞懂，待查
class BetterList(list):
    def __iter__(self):
    return list.__iter__(self[:])
</code></pre>

<h2>nonlocal与list</h2>

<p>看下面两段代码</p>

<pre><code>def make_accumulator():
    """Return an accumulator function that takes a single numeric argument and
    accumulates that argument into total, then returns total.
    """
    total = []
    def accumulator(amount):
    total.append(amount)
    return sum(total)
    return accumulator

def make_accumulator_nonlocal():
    """Return an accumulator function that takes a single numeric argument and
    accumulates that argument into total, then returns total.
    """
    total = 0
    def accumulator(amount):
    nonlocal total
    total += amount
    return total
    return accumulator
</code></pre>

<p>为何单个变量(total)在&#8221;全局&#8221;访问的时候需要nonlocal参数，而列表就不用了呢？</p>

<h2>format method of strings</h2>

<pre><code>&gt;&gt;&gt; 'I {0}, you {0}, we all {0} for {1}!'.format('scream', 'ice cream')
'I scream, you scream, we all scream for ice cream!'
</code></pre>

<h2>Generic Functions</h2>

<p>Generic functions are methods or functions that apply to arguments of different types. 我理解就是不管对象类型是不是一样，都可以用这个通用函数来做运算。Generic functions主要有下面三种实现方式：
&ndash; Interfaces
&ndash; Type dispatching
&ndash; Coercion</p>

<h2>Memoization</h2>

<p>Keep track of all the calls we have ever made to fib and their answers. Then when we made a repeated recursive call, we immediately return the answer.</p>

<h2>Huffman Encoding</h2>

<p>一种可变编码方式，可针对词频进行优化编码，出现次数多的字母用相对小的位数来编码，出现次数多的字母用相对多的位数来编码，这样相对于固定位编码方式可节省存储空间。  <br/>
使用方法：</p>

<ul>
<li>统计字母出现频率，并据此创建霍夫曼二叉树。创建的方法就是对给定的字母、频率，不停的merge掉频率最小的两个，并根据这两个生成一个新的HuffmanTree，它的频率为那两个频率最小的频率之和，以此直至只剩下两个HuffmanTree为止.</li>
<li>编码</li>
<li>解码
编码和解码部分可用递归优雅的实现

<h2>Scheme</h2></li>
<li>区分symbol和string. When you type things in the interpreter, Scheme will evaluate it. The rule for evaluating a symbol is to get the value bound to that symbol. This is one difference between strings and symbols&mdash;symbols don&rsquo;t evaluate to themselves(which strings do). However, as you saw above, when you type in &lsquo;a, you get a. This is because when you use single quote, you&rsquo;re telling Scheme <strong>not to follow</strong> the normal rules of the evaluation and just have the symbol return as itself.</li>
<li>Special Forms. 类似于其它语言中的关键字，比如define if and or等等</li>
<li>Lambdas. 语法： <code>(lambda (&lt;PARAMETERS&gt;) &lt;EXPR&gt;)</code></li>
<li>Functions. 语法：<code>(define (&lt;FUNCTIONNAME&gt; &lt;PARAMETERS&gt;) &lt;EXPR&gt;)</code>. Python will automatically transform it to <code>(define &lt;FUNCTIONNAME&gt; (lambda (&lt;PARAMETERS&gt;) &lt;EXPR&gt;)</code> for you.所以在Scheme中，lambda更基础.</li>
<li>关键字let. 语法：
  (let ( (<SYMBOL1> <EXPR1>)
      &hellip;
      (<SYMBOLN> <EXPRN>) )
      <BODY> )
它等价于：<code>( (lambda (&lt;SYMBOL1&gt; ... &lt;SYMBOLN&gt;) &lt;BODY&gt;) &lt;EXPR1&gt; ... &lt;EXPRN&gt;)</code></li>
<li>Pairs. 创建：<code>(define a (cons 1 2))</code> 获取： <code>(car a)</code> <code>(cdr a)</code></li>
<li>List. A List is a specific kind of Pair that is either nil(an empty list) or a Pair whose cdr is another List. 比如，(cons 1 (cons 2 nil))，它可以简写成&#8217;(1 2)，检查List是否为空可用null?语句</li>
</ul>


<h2>Tail Recursion 尾递归</h2>

<p>是对递归的一种优化，我们都知道，一般线性递归在新的调用之前需要在堆栈中保存当前调用的信息，这样随着函数调用的增多，对内存的占用会越来越大，而尾递归能够实现这一次的调用使用的堆栈空间直接覆盖上次用过的，因此虽然函数调用在不断进行，但对内存的占用却是不变的！（linuxfish注：看了一堆介绍，我肿么觉得尾递归有点过程语言中循环的感觉，是不是因为函数式编程中没有循环，才用尾递归的？）</p>

<p>注意，要区分尾递归语法和尾递归优化，也就是说，你可以把递归写成尾递归的形式，但底层（解释器、编译器）是否给你优化就不一定了。比如，Python可以写成尾递归的形式，但是没用，照样会stackoverflow，因为解释器并不支持。</p>

<h2>Streams</h2>

<p>这应该是Python中generator的鼻祖了吧。Streams are a clever idea that allows one to use sequence manipulations without incurring the costs of manipulating sequences as list. With streams we can achieve the best of both worlds: We can formulate programs elegantly as sequences manipulations, while attaining the efficiency of <strong>incremental computation</strong>. The basic idea is to arrange to construct a stream only partially, and to pass the partial construction to the program that consumes the stream. If the consumer attempts to access a part of the stream that has not yet been constructed, the stream will automatically construct just enough more of itself to produce the required part, thus preserving the illusion that the entire stream exists. In other words. In other words, although we will write programs as if we were processing complete sequences, we design our stream implemention to automatically and transparently interleave the construction of the stream with its use.感觉这玩意儿纯粹是Schemer们妄图所有问题都用list pair来解决，发现不行后又整出来的一个东东。这也是所谓的函数式语言的懒惰特性，所谓懒就是不到万不得已不动弹。。而不是傻乎乎的一下子就把整个list都计算出来。</p>

<h2>Declarative Programming</h2>

<p>比如SQL语言</p>

<p>data values are often stored in large repositories called databases. A database consists of a data store containing structured data values and an interface for retrieving subsets of the data based on their characteristics. Each value stored in a database is called a record. Records are typically retrieved via a query, which is an expression in a query programming language. By far the most ubiquitous query language in use is called Structure Query Language or SQL.</p>

<p>SQL is an example of a declarative programming language. Expressions do not <strong>describe computations directly</strong>, but instead state the form of the <strong>result</strong> of some computation. It is the role of the <strong>query interpreter</strong> of the database system to design and perform a computational process to produce such a result.</p>

<p>This interaction differs substantially from the procedural programming paradigm of Python or Scheme. In Python, <strong>computational processes are described directly by the programmer.</strong> A declarative language specifies the form of the result, but abstracts away procedural details.</p>

<h2>Concurrency 并行</h2>

<ul>
<li>并行是一个现实问题，生活中经常会遇到，又是一个提升效率的好办法，并行办事比串行等待效率要高很多！</li>
<li>由于线程并行所导致的问题可以通过引入锁的机制来解决，不过要注意防止死锁现象。</li>
<li>还可以通过Message Passing来解决</li>
</ul>


		
		
	</div>

<div class="meta">
	
		<span class="comments"><a href="/blog/2014/07/26/sicp//blog/page/3/index.html#disqus_thread">Comments</a></span>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/07/14/my-first-vps/">
		
			捣鼓VPS翻墙</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2014-07-14T22:19:00+08:00" pubdate data-updated="true">Jul 14<span>th</span>, 2014</time></div>
      <div class="tags">Tags: 


	<a class='category' href='/blog/categories/gfw/'>GFW</a>, <a class='category' href='/blog/categories/vps/'>vps</a>


</div>
    </div>
		<p>在学校论坛上看到有人介绍在vps上搭建shadowsocks服务器来翻墙，看到他推荐的vps很便宜，一年才20多，于是立马也想买一个了，其实以前就想折腾vps的，无奈找到的vps价格都太高，一个月要几百块神马的，像我这么小气的人肿么可能舍得。。不过，这个实在是太便宜了啊，虽然配置是最低的了，72M内存，2G硬盘，但一个月有100G的流量，对于翻墙来说够用了，果断注册下单购买，只支持PayPal支付，于是又注册PayPal，在这上面折腾了很久，一开始注册成中国版的了，结果提示无法跨境支付，放狗搜索后发现，需要注册国际版的，以为还要审核神马的，结果直接绑定银行卡后就可以支付了，很方便啊！</p>

<p>可是才用一天就被墙了！！我目前使用的是长城宽带的服务，ssh都无法登陆了，但后来发现使用学校自己的外网还是可以用的，学校的外网应该是用的联通的服务，后来我到V2EX上问了下发现有人用长城宽带的服务也有类似的问题，该死的长城宽带！</p>

<h2>更新（20141002）</h2>

<p>不久前听人说Bandwagon出加州机房了，一直懒得弄，今天花时间看了下，果然有加州机房了，果断迁移过去，给换了个新ip，然后shadowsocks不能用了，一开始以为是shadowsocks服务器端没开，后来发现是服务器端的设置里ip也需要更新下才行。</p>

<p>正好记录下shadowsocks服务器端的配置，省得下次再忘。</p>

<ul>
<li>shadowsocks在服务器端是以daemon形式运行的。daemon脚本在<code>/etc/init.d/shadowsocks</code>，配置文件在<code>/etc/shadowsocks/config.json</code></li>
<li>要启动/关闭/重启shadowsocks，只需在命令行执行<code>/etc/init.d/shadowsocks start/stop/restart</code>，它默认开始是自启动的。</li>
<li>刚刚才知道，原来shadowsocks是socks代理，因此可以无压力访问https网站，再也不会遇到GoAgent一样的证书问题了～～哈哈，真好</li>
</ul>


<p>对了，火狐代理插件换成foxyproxy了，autoproxy已经好久不更新，基本无法使用了，之前一直迟疑不想换是因为听说foxyproxy配置比较麻烦，今天试了试才发现对于经常折腾的人来说根本就不是事～～ foxyproxy也支持订阅gfwlist列表，于是生活又美好起来了～～</p>

<h2>参考</h2>

<ul>
<li><a href="https://github.com/madeye/shadowsocks-libev">shadowsocks-libev</a></li>
<li><a href="http://www.lucong.com.cn/lulu/centos-debian-shadowsocks-libev.html">CentOS、Debian下搭建shadowsocks-libev服务端</a></li>
</ul>


		
		
	</div>

<div class="meta">
	
		<span class="comments"><a href="/blog/2014/07/14/my-first-vps//blog/page/3/index.html#disqus_thread">Comments</a></span>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/03/30/two-sort-algorithms/">
		
			冒泡排序和插入排序</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2014-03-30T20:07:00+08:00" pubdate data-updated="true">Mar 30<span>th</span>, 2014</time></div>
      <div class="tags">Tags: 

</div>
    </div>
		<h2>冒泡排序</h2>

<p>应该是最简单的吧，但是效率很低。对于给定的n个无序数列，不断的比较相邻的两个数的大小，若满足条件，则互换两个数的位置，这样经过一次循环后，最大的（或者最小的）数就冒出来了，经过n次循环，顺序就排好了。具体伪代码如下：</p>

<pre><code>    for(i=0; i &lt; n; i++) {
            for(j = 0; j &lt; n - i - 1; j++) {
                    if(target[j] &gt; target[j+1]) {
                            temp = target[j+1];
                            target[j+1] = target[j];
                            target[j] = temp;
                    }   
            }   
    }   
</code></pre>

<h2>插入排序</h2>

<p>模仿的是打牌的时候，插牌的方法。对于给定的n个无序数列，从第二个数开始往下循环到第n个数，在处理某个数的时候，依次比较这个数跟它之前的数的大小，直到找到合适的位置后就插入。具体伪代码如下：</p>

<pre><code>    for(i = 1; i &lt; n; i++) {
            key = target[i];  // 待插的值
            for(j = i - 1; (j &gt;= 0) &amp;&amp; (target[j] &gt; key); j--) {
                    target[j+1] = target[j];   // 移位，给要插入的数让位
            }
            target[j+1] = key;    // 插进去
    }
</code></pre>

		
		
	</div>

<div class="meta">
	
		<span class="comments"><a href="/blog/2014/03/30/two-sort-algorithms//blog/page/3/index.html#disqus_thread">Comments</a></span>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/03/28/relearning-c/">
		
			重新学习C</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2014-03-28T20:14:00+08:00" pubdate data-updated="true">Mar 28<span>th</span>, 2014</time></div>
      <div class="tags">Tags: 

</div>
    </div>
		<p>发现写learn python the hard way的大神Zed.A.Shaw的the hard其实是一个系列，除了python还有Ruby、C、SQL、Regex，都是我想学的有木有！这几天在看他的C的教程，虽然只是一个alpha版本，但已经很牛逼了啊，一开始还可以，现在光是消化一小节都要好几天好不好！看了他的教程，感觉自己以前学过的那点东西真的是连屎都不如。。anyway，学到了很多东东，记录下学到的东西。</p>

<ul>
<li>指针。发现在实际使用中很容易把指针变量和指针所指的内容搞混，要记住，指针变量里存放的只是一个地址而已，所以它的大小（位数）是固定的，应该是4个字节，跟它所指的内容没有一点关系。比如我在练习中遇到的一个问题是，有一个结构体，结构体有几个字符型指针，也就是说这几个指针是指向几个字符串的，然后在给这个结构体申请空间的时候我就晕了。。到底应该申请多少呢？直接malloc(sizeof(struct Address))吗？因为我总纠结着结构体里的字符型指针，想着这几个指针指向的字符数目又没有定，这可怎么办呢？其实是我想多了，把指针和它指向的内容混淆了，要知道，指针就是指针而已，大小固定，4个字节，所以上面那个结构体的大小是固定的，可以直接用sizeof来计算。至于那几个指针指向的字符串嘛，等要用的时候再malloc就可以了，也就是说它们跟上面说的结构体没半毛钱关系！只是因为里面有个指针指向了它们而已。</li>
<li>内存管理。这个之前真的是没有想过，也没有遇到过。因为总是在用一些脚本语言，根本就没有关注过内存管理的问题，导致现在遇到都不知道该怎么处理了，现在通过一次练习，对内存管理有了一些理解了。基本上，在C中一切内存管理都要自己来，要放东西的时候就要自己malloc申请空间，不需要提前申请，只要在需要使用的时候申请就行了，然后记得申请的空间用完后要自己释放，否则会导致内存泄露！</li>
<li>动态数据结构从文件的读取和写入。乍一想觉得挺简单，其实还是蛮复杂的好不好。。先说写入，这里说的动态结构是指用指针实现的，就是不是固定的数组，所以具体大小可以到时候malloc随意申请，灵活是灵活，但要写入文件的时候就SB了，不能像固定结构那样直接一个<code>fwrite(&amp;addr, sizeof(struct Addr), 1, fpr)</code>就行了好不好，你要自己找到指针指向的内容，然后一个一个自己写啊！再说读取，首先顺序要一致，怎么写入的就要怎么读取出来，否则肯定是没戏啊，然后读取的时候要先准备好地方啊！也就是说要为读入的数据用malloc提前申请空间啊！还有一个就是一次读入数据大小的问题，这个要好好弄清楚，我在练习的时候就是这个没弄清楚，导致程序一直都有问题，还是那句话，不要把指针和指针指向的内容混淆！！</li>
<li>gdb。gdb是个神器！！</li>
</ul>


		
		
	</div>

<div class="meta">
	
		<span class="comments"><a href="/blog/2014/03/28/relearning-c//blog/page/3/index.html#disqus_thread">Comments</a></span>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/03/03/get-your-visit-internet-frequency-by-python/">
		
			统计浏览器历史记录</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2014-03-03T19:13:00+08:00" pubdate data-updated="true">Mar 3<span>rd</span>, 2014</time></div>
      <div class="tags">Tags: 


	<a class='category' href='/blog/categories/python/'>python</a>, <a class='category' href='/blog/categories/bian-cheng/'>编程</a>


</div>
    </div>
		<p>又是好久没更新。</p>

<p>知乎是个好网站。那么多大牛分享自己的经验教训～涉及范围包罗万象，无所不有。对我而言，很重要的一点是它拓展了我的眼界，让我知道，哦，原来还可以这么想，事情还可以这么做，这世界上原来还有这样一种活法。。</p>

<p>逛知乎的时候还是不由自主的看起编程方面的提问了，其中有一个问题是“用python可以做哪些有趣的事？”看到大家各种有趣的分享，我想这真是太酷了！一直以来，虽然对编程很感兴趣，但总是深入不进去，刚刚有点想法的时候，可总是考虑的太复杂，牵扯的知识点太多，然后要看很多东西，最后热情就这么一点点被消磨掉了，然后就是扔下好久不去想它，直到某天忽然又有热情了，如此循环往复。。看似做了很多，其实却一直在原地踏步。看了这么多知乎牛人的回答后，有了一点点启发，也有了具体的指导，那么就按各位大牛的做法来试试，从自己感兴趣的、容易实现的小玩意儿开始吧。</p>

<p>要统计浏览器的访问记录，首先要找到访问记录，看起来简单，以为只要随便导出一下就可以了，实际还颇费了一番周折。火狐的历史记录以前是以xml格式存储的，现在则是用数据库格式存储的，位置是在<code>%appdata%\Mozilla\Firefox\Profiles\xxxxx.default\places.sqlite</code>。东西是找到了，可是肿么读出来呢？尼玛是数据库文件啊，我还不会用肿么办呢？google了一番后发现可以用firefox的一个扩展来打开读取，这个扩展叫SQLite Manager，相当赞，各种功能齐全，关键支持csv导出！好的，长话短说，导出为csv文件后就可以请python出场了！</p>

<p>基本步骤是，先从csv文件中按行读出来，这数据库还是蛮大的，共13692条记录，然后从行中提取出需要的网址信息，放入一个列表中，然后再利用字典来统计各个网址的频度，程序如下：</p>

<pre><code>#!/usr/bin/python

import csv
histList=[]
histDict={}
with open('f:\moz_places.csv','rb') as f:
    reader = csv.reader(f)
    for row in reader:
    histList.append('/'.join((row[1].split('/'))[:3]))


for place in histList:
    if place not in histDict:
    histDict[place] = 1
    else:
    histDict[place] += 1

sortedDict = sorted(histDict.iteritems(),key=lambda d:d[1],reverse=True)

for (place,freq) in sortedDict[:50]:
    print '%s\t\t%s' %(freq,place)
</code></pre>

<p>PS，再总结下这几天学到的新东西：</p>

<ul>
<li>splinter。python下的一个网页应用测试库，就是可以操纵浏览器来与网站交互，玩了下还挺好上手，比底层一点的request神马的友好多了，之前还一直坚持不用这种直接操作浏览器的库，嫌太低端，现在看来，还是先从基础开始慢慢来吧。</li>
<li>xpath。一种选择xml文件中节点的方法，通过它可以快速指定html文件中的元素。</li>
<li>css selector。也是为了简化css而出现的，通过它也能快速指定网页中的特定元素。</li>
</ul>


<p>以上两个玩意儿的语法并不是很难，阮一峰的博客中都有介绍。</p>

		
		
	</div>

<div class="meta">
	
		<span class="comments"><a href="/blog/2014/03/03/get-your-visit-internet-frequency-by-python//blog/page/3/index.html#disqus_thread">Comments</a></span>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/12/31/last-day-of-2013/">
		
			Last Day of 2013</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2013-12-31T17:23:00+08:00" pubdate data-updated="true">Dec 31<span>st</span>, 2013</time></div>
      <div class="tags">Tags: 

</div>
    </div>
		<p>今天是2013年最后一天了，不经意间一年又过去了。</p>

		
		
	</div>

<div class="meta">
	
		<span class="comments"><a href="/blog/2013/12/31/last-day-of-2013//blog/page/3/index.html#disqus_thread">Comments</a></span>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/12/01/nexus5-has-arrived/">
		
			五儿子到手了！</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2013-12-01T20:54:00+08:00" pubdate data-updated="true">Dec 1<span>st</span>, 2013</time></div>
      <div class="tags">Tags: 


	<a class='category' href='/blog/categories/nexus-5/'>nexus 5</a>, <a class='category' href='/blog/categories/hai-tao/'>海淘</a>


</div>
    </div>
		<p>在拿到包裹的时候竟然异常的平静，或许是因为早已经麻木了。对了，感谢政府感谢党，没有睡我。</p>

<p>回顾下整个购买过程：11月20号在日本google play下单，11月21日晚上8点多收到易票联的手机扣款的短信通知，11月22日收到谷歌的发货通知，手机是从香港发出的，11月25日收到转运公司的商品签收通知和转运费用通知，立马通过支付宝付款（才77多），当晚收到付款完成通知，11月26日收到转运公司的商品寄出通知，是用EMS寄的，查询EMS记录显示，手机在11月26日晚上6点被寄出，27日到达北京，28日到达天津，然后当天就送到学校了！！这个速度是让我很吃惊的，国内的EMS突然这么快都让我有点不适应了。。28号那天不停的刷EMS进度，然后看到状态突然从到达处理中心，跳到投递并签收，我和我的小伙伴都惊呆了！赶紧跑到学校收发室，看记录，没有，然后被告知，刚到的邮件还没有登记！又等了一会儿，终于登记完了，过去一看，果然有！！</p>

<p>这样算下来，整个购买从下单到拿到手总共才9天不到！跟美淘比快多了，虽然就是价钱贵了一点点。但是呢，因为第一次海淘，花费的时间成本还挺大的，回头看看，整整一个月搭进去了，从11月初刚发布，就确定要买，只是那时候还期待淘宝呢，后来发现可以海淘，于是就想试试，谁知道是个坑啊，呵呵～～个中辛酸已经在上一篇博客中发过牢骚了，现在只总结下问题，告诫自己不要再犯错误。</p>

<ul>
<li>信用卡。这个是最重要的！！一开始就是死在这上面的！google钱包里注册的信用卡信息必须真实，还必须得是本人的卡，姓名和电话什么的一定要填真实自己的，地址因为没办法选天朝，所以只能用转运公司的。我一开始用朋友的卡，购买人填的我，信用卡信息填的朋友的，也通不过！这时候就看到自己有信用卡的重要性了，借别人的，一个是不方便，不安全；另一个是可能根本就没法下单。。后来实在没办法，看到贴吧里有吧友用易票联支付成功了，才终于支付成功。易票联是一种虚拟信用卡，可以用于境外支付，没有信用卡的同学可以试试它，注册也很方便，立马就能用，不过最好是认证下，我一开始没有实名认证，下单好久都没反映，实名认证人工审核可能需要一两天，也很快。还有就是，通过信用卡网上买东西会有一个提前的扣款，叫预授权扣款，这个不是实际的商品扣款，到时候是会自动返还回来的，不用担心。</li>
<li>VPN。为了海淘专门买了一个月的VPN，因为境外的网站不认中国ip，需要挂vpn才能下单成功，而且最好不要老是更改访问的ip，很容易出问题。</li>
<li>google账户。这个我觉得也是一个问题，一开始我没有申请新的google账户，就用的以前一直用的老账户，一直没有成功，后来重新申请了一个全新的账户才成功了。</li>
</ul>


<p>应该就是这几个问题了，感慨下日淘真的很快啊～！相比较美淘要1个多月，日淘真的是神速啊！而且貌似被睡的几率还很小。以后海淘的话优先选择日淘～～</p>

<p>最后，拿到nexus 5的那一刻，感觉一切的煎熬与等待都值了，因为五儿子真的是太酷了～～拿到五儿子后以前的手机都不忍直视了。。</p>

<p>对了，给五儿子配了张联通3G卡，平生第一次用3G卡，体验还不错，就是淘宝卖家太坑，买前买后180度大变脸，买前亲啊亲啊的叫的好甜啊，付钱后就愛搭不理的，说的很清楚要求剪卡，没剪就送来了，然后还强词夺理不想负责。。还有，这卡应该是假的，卖家承诺的那些返话费可能都没那么久，我之前已经在网上看过很多类似的抱怨，但没办法营业厅里的套餐太贵，用不起。。暂时先买了这个，如果被骗，算个教训，以后淘宝购物一定要谨慎！X宝JS果然不是谣传。2013年12月1日正式开始用的这张联通卡，花了213大洋，我倒要看看到底能用到什么时候，后续会更新。</p>

<p>谨以此献给我的第一次海淘～～</p>

		
		
	</div>

<div class="meta">
	
		<span class="comments"><a href="/blog/2013/12/01/nexus5-has-arrived//blog/page/3/index.html#disqus_thread">Comments</a></span>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/11/20/bad-days/">
		
			最近各种不顺</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: 








  


<time datetime="2013-11-20T20:30:00+08:00" pubdate data-updated="true">Nov 20<span>th</span>, 2013</time></div>
      <div class="tags">Tags: 


	<a class='category' href='/blog/categories/nexus-5/'>nexus 5</a>, <a class='category' href='/blog/categories/tu-cao/'>吐槽</a>


</div>
    </div>
		<p>最近一个月都不在状态。</p>

<p>也许是因为停止跑步了？天气一冷就懒得跑了。。唉，最终还是没有坚持下去。</p>

<p>最可恨的是买个谷歌5儿子，从月初就开始买，直到现在愣是没买成功。。唉，搞得我都无力吐槽了，不过也算是知道海淘是怎么回事了。。唉，建议心理承受能力不行的还是别掺和了，虐心啊！因为nexus在伟大的天朝根本不上市，所以只能国外海淘，本来是想去美国google play淘的，贴吧里研究了一下，看到有人说在日本google play下单发货快，虽然要比美国的价格贵多了，但算上运费啥的也贵不了多少。海淘还必须得有国外的ip才行，为了这个还专门买了一个月的vpn帐号，然后注册转运公司。哦，先说下海淘的流程吧，基本工具要有，vpn用来做代理，信用卡用来支付。首先，你得注册一个转运公司，获取到一个你的转运地址，然后去国外google play上下单，用信用卡付款，送货地址就填你注册转运公司获取到的地址，然后就等吧，扣款成功后一般就会发货了。唉，哥就悲剧的卡在付款这个环节上了，一开始是没有信用卡，到处借卡，其实我之前有一张信用卡，但因为年费太高被我注销了。。好不容易借到一张卡，不管怎么填账单信息，google就是不扣款。。别人不是一下订单就扣款就是等了没多久就扣款，可我的订单就是没一点动静。。后来又看到贴吧里有人说没信用卡的用易票联的虚拟信用卡也支付成功了，于是又赶紧注册易票联，手机的钱也打进易票联了，更新名字和电话为自己的真实信息，地址因为无法选中国，只能用转运公司的了，所有这些做完后竟然还是不行！！！跟我同一天下订单的人，人家都收到发货通知了，我的还是一点动静都没，唉，感觉不能再爱了。。</p>

<p>然后就因为一直挺期待五儿子的，搞得每天都没心思了学习了有木有！！感觉好久都没看书了，英语跟读也好久没有进行了。</p>

<p>最后，祸不单行，服务器最近也问题不断，一开始是被顶ip，后来竟然升级到MAC攻击。。还专门在半夜10点11点的时候，也不知道到底是有人故意的还是有人电脑中病毒了，昨天外网网线竟然被剪了，当时听到这个消息我就震惊了，这真是不碰上不知道，什么样的奇葩都有啊。。</p>

<p>吐了这么多槽，其实还是有点好事的，经某大神指点发现宽带竟然可以多拨～～于是，生活又美好了一点点。</p>

<p>以上      by 快要崩溃感觉无法再爱的linuxfish</p>

		
		
	</div>

<div class="meta">
	
		<span class="comments"><a href="/blog/2013/11/20/bad-days//blog/page/3/index.html#disqus_thread">Comments</a></span>
	
</div>
</article>

<nav id="pagenavi">
    
        <a href="/blog/page/2/" class="prev">Prev</a>
    
    
        <a href="/blog/page/4/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav>

    </div>
    <footer id="footer">
    <div style="display:inline">
    Copyright &copy; 2017

    linuxfish
. Powered by <a href="http://octopress.org">Octopress</a> | 
    Theme <a href="http://github.com/panks/fabric">fabric</a> by <a href="http://panks.me">Pankaj Kumar</a>
</div>


    </footer>
    <script src="/javascripts/fabric.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'thehardwayiseasier';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





<!-- end toload --> 
</div>
</div>
<script src="/javascripts/jquery.ui.totop.js" type="text/javascript"></script>
<script type="text/javascript">
/*<![CDATA[*/
;(function($){$().UItoTop({easingType:'easeOutCirc'});})(jQuery); 
/*]]>*/
</script><!-- remove it to remove the scroll to top button -->
</body>
</html>
